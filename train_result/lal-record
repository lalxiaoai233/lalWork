# bevfusion+原权重 / mini数据集
{"mode": "val", "epoch": 6, "iter": 27, "lr": 0.0, "object/car_ap_dist_0.5": 0.0001, "object/car_ap_dist_1.0": 0.0799, "object/car_ap_dist_2.0": 0.3484, "object/car_ap_dist_4.0": 0.5633, "object/car_trans_err": 0.9217, "object/car_scale_err": 0.204, "object/car_orient_err": 1.6452, "object/car_vel_err": 0.3231, "object/car_attr_err": 0.1346, "object/mATE": 1.0744, "object/mASE": 0.6034, "object/mAOE": 1.2876, "object/mAVE": 1.1046, "object/mAAE": 0.6277, "object/truck_ap_dist_0.5": 0.0, "object/truck_ap_dist_1.0": 0.0, "object/truck_ap_dist_2.0": 0.0149, "object/truck_ap_dist_4.0": 0.0801, "object/truck_trans_err": 0.9649, "object/truck_scale_err": 0.3043, "object/truck_orient_err": 1.645, "object/truck_vel_err": 0.1943, "object/truck_attr_err": 0.0172, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.0, "object/bus_ap_dist_1.0": 0.0, "object/bus_ap_dist_2.0": 0.107, "object/bus_ap_dist_4.0": 0.3825, "object/bus_trans_err": 1.4164, "object/bus_scale_err": 0.3393, "object/bus_orient_err": 1.1518, "object/bus_vel_err": 4.1921, "object/bus_attr_err": 0.9059, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.0, "object/motorcycle_ap_dist_1.0": 0.0, "object/motorcycle_ap_dist_2.0": 0.0, "object/motorcycle_ap_dist_4.0": 0.0, "object/motorcycle_trans_err": 1.2612, "object/motorcycle_scale_err": 0.382, "object/motorcycle_orient_err": 1.8112, "object/motorcycle_vel_err": 0.3808, "object/motorcycle_attr_err": 0.2179, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 1.0, "object/bicycle_scale_err": 1.0, "object/bicycle_orient_err": 1.0, "object/bicycle_vel_err": 1.0, "object/bicycle_attr_err": 1.0, "object/pedestrian_ap_dist_0.5": 0.0028, "object/pedestrian_ap_dist_1.0": 0.092, "object/pedestrian_ap_dist_2.0": 0.2608, "object/pedestrian_ap_dist_4.0": 0.4163, "object/pedestrian_trans_err": 0.9574, "object/pedestrian_scale_err": 0.335, "object/pedestrian_orient_err": 1.3354, "object/pedestrian_vel_err": 0.7468, "object/pedestrian_attr_err": 0.7463, "object/traffic_cone_ap_dist_0.5": 0.0, "object/traffic_cone_ap_dist_1.0": 0.0409, "object/traffic_cone_ap_dist_2.0": 0.2269, "object/traffic_cone_ap_dist_4.0": 0.3147, "object/traffic_cone_trans_err": 1.2225, "object/traffic_cone_scale_err": 0.4695, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.11352, "object/map": 0.07327}
# bevfusion+swit-T权重 / mini数据集
{"mode": "val", "epoch": 6, "iter": 27, "lr": 0.0, "object/car_ap_dist_0.5": 0.0, "object/car_ap_dist_1.0": 0.0381, "object/car_ap_dist_2.0": 0.2428, "object/car_ap_dist_4.0": 0.4702, "object/car_trans_err": 0.9684, "object/car_scale_err": 0.2099, "object/car_orient_err": 1.5919, "object/car_vel_err": 0.4665, "object/car_attr_err": 0.1825, "object/mATE": 1.0669, "object/mASE": 0.6032, "object/mAOE": 1.2325, "object/mAVE": 1.0856, "object/mAAE": 0.6881, "object/truck_ap_dist_0.5": 0.0, "object/truck_ap_dist_1.0": 0.0002, "object/truck_ap_dist_2.0": 0.0704, "object/truck_ap_dist_4.0": 0.2072, "object/truck_trans_err": 0.9943, "object/truck_scale_err": 0.3035, "object/truck_orient_err": 1.3892, "object/truck_vel_err": 0.078, "object/truck_attr_err": 0.0, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.0, "object/bus_ap_dist_1.0": 0.0, "object/bus_ap_dist_2.0": 0.0, "object/bus_ap_dist_4.0": 0.0537, "object/bus_trans_err": 1.3113, "object/bus_scale_err": 0.298, "object/bus_orient_err": 0.9277, "object/bus_vel_err": 3.9675, "object/bus_attr_err": 1.0, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.0, "object/motorcycle_ap_dist_1.0": 0.0, "object/motorcycle_ap_dist_2.0": 0.0, "object/motorcycle_ap_dist_4.0": 0.0, "object/motorcycle_trans_err": 1.3287, "object/motorcycle_scale_err": 0.4171, "object/motorcycle_orient_err": 1.8452, "object/motorcycle_vel_err": 0.3844, "object/motorcycle_attr_err": 0.5255, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 1.0, "object/bicycle_scale_err": 1.0, "object/bicycle_orient_err": 1.0, "object/bicycle_vel_err": 1.0, "object/bicycle_attr_err": 1.0, "object/pedestrian_ap_dist_0.5": 0.0002, "object/pedestrian_ap_dist_1.0": 0.0635, "object/pedestrian_ap_dist_2.0": 0.1975, "object/pedestrian_ap_dist_4.0": 0.3776, "object/pedestrian_trans_err": 1.0024, "object/pedestrian_scale_err": 0.3299, "object/pedestrian_orient_err": 1.3389, "object/pedestrian_vel_err": 0.7885, "object/pedestrian_attr_err": 0.7968, "object/traffic_cone_ap_dist_0.5": 0.0142, "object/traffic_cone_ap_dist_1.0": 0.0738, "object/traffic_cone_ap_dist_2.0": 0.2858, "object/traffic_cone_ap_dist_4.0": 0.3139, "object/traffic_cone_trans_err": 1.0639, "object/traffic_cone_scale_err": 0.4733, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.10099, "object/map": 0.06023}

# 11.5 cbdes moe + lidar / mini数据集
torchpack dist-run -np 8 python tools/train_cbdes_moe.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml --run-dir train_result
{"mode": "val", "epoch": 6, "iter": 11, "lr": 1e-05, "object/car_ap_dist_0.5": 0.0078, "object/car_ap_dist_1.0": 0.1942, "object/car_ap_dist_2.0": 0.4925, "object/car_ap_dist_4.0": 0.5785, "object/car_trans_err": 0.7857, "object/car_scale_err": 0.4181, "object/car_orient_err": 1.4911, "object/car_vel_err": 0.424, "object/car_attr_err": 0.2206, "object/mATE": 0.8465, "object/mASE": 0.7713, "object/mAOE": 1.2175, "object/mAVE": 1.0298, "object/mAAE": 0.5813, "object/truck_ap_dist_0.5": 0.0, "object/truck_ap_dist_1.0": 0.0, "object/truck_ap_dist_2.0": 0.0002, "object/truck_ap_dist_4.0": 0.0007, "object/truck_trans_err": 0.9623, "object/truck_scale_err": 0.4252, "object/truck_orient_err": 1.144, "object/truck_vel_err": 0.5452, "object/truck_attr_err": 0.0633, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.0, "object/bus_ap_dist_1.0": 0.0, "object/bus_ap_dist_2.0": 0.0, "object/bus_ap_dist_4.0": 0.0042, "object/bus_trans_err": 0.8084, "object/bus_scale_err": 0.7796, "object/bus_orient_err": 1.1038, "object/bus_vel_err": 3.1905, "object/bus_attr_err": 0.5052, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.0, "object/motorcycle_ap_dist_1.0": 0.0, "object/motorcycle_ap_dist_2.0": 0.0, "object/motorcycle_ap_dist_4.0": 0.0, "object/motorcycle_trans_err": 0.5507, "object/motorcycle_scale_err": 0.7948, "object/motorcycle_orient_err": 1.7196, "object/motorcycle_vel_err": 0.1006, "object/motorcycle_attr_err": 0.0, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 1.0, "object/bicycle_scale_err": 1.0, "object/bicycle_orient_err": 1.0, "object/bicycle_vel_err": 1.0, "object/bicycle_attr_err": 1.0, "object/pedestrian_ap_dist_0.5": 0.0843, "object/pedestrian_ap_dist_1.0": 0.155, "object/pedestrian_ap_dist_2.0": 0.1838, "object/pedestrian_ap_dist_4.0": 0.2683, "object/pedestrian_trans_err": 0.5228, "object/pedestrian_scale_err": 0.453, "object/pedestrian_orient_err": 1.4989, "object/pedestrian_vel_err": 0.9778, "object/pedestrian_attr_err": 0.8613, "object/traffic_cone_ap_dist_0.5": 0.0, "object/traffic_cone_ap_dist_1.0": 0.0, "object/traffic_cone_ap_dist_2.0": 0.0, "object/traffic_cone_ap_dist_4.0": 0.0023, "object/traffic_cone_trans_err": 0.8348, "object/traffic_cone_scale_err": 0.8428, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.10474, "object/map": 0.04929}

# 11.5 bevfusion+swin-T权重 + lidar / mini数据集 (使用GPU 1-7，避开GPU 0)
CUDA_VISIBLE_DEVICES=1,2,3,4,5,6,7 torchpack dist-run -np 7 python tools/train.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth --run-dir train_result
{"mode": "val", "epoch": 6, "iter": 12, "lr": 1e-05, "object/car_ap_dist_0.5": 0.0, "object/car_ap_dist_1.0": 0.0154, "object/car_ap_dist_2.0": 0.0915, "object/car_ap_dist_4.0": 0.1381, "object/car_trans_err": 0.9087, "object/car_scale_err": 0.7252, "object/car_orient_err": 1.4173, "object/car_vel_err": 0.4799, "object/car_attr_err": 0.1928, "object/mATE": 0.9665, "object/mASE": 0.9538, "object/mAOE": 1.1197, "object/mAVE": 0.9021, "object/mAAE": 0.8739, "object/truck_ap_dist_0.5": 0.0, "object/truck_ap_dist_1.0": 0.0, "object/truck_ap_dist_2.0": 0.0, "object/truck_ap_dist_4.0": 0.0, "object/truck_trans_err": 1.0, "object/truck_scale_err": 1.0, "object/truck_orient_err": 1.0, "object/truck_vel_err": 1.0, "object/truck_attr_err": 1.0, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.0, "object/bus_ap_dist_1.0": 0.0, "object/bus_ap_dist_2.0": 0.0, "object/bus_ap_dist_4.0": 0.0, "object/bus_trans_err": 1.0, "object/bus_scale_err": 1.0, "object/bus_orient_err": 1.0, "object/bus_vel_err": 1.0, "object/bus_attr_err": 1.0, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.0, "object/motorcycle_ap_dist_1.0": 0.0, "object/motorcycle_ap_dist_2.0": 0.0, "object/motorcycle_ap_dist_4.0": 0.0, "object/motorcycle_trans_err": 1.0, "object/motorcycle_scale_err": 1.0, "object/motorcycle_orient_err": 1.0, "object/motorcycle_vel_err": 1.0, "object/motorcycle_attr_err": 1.0, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 1.0, "object/bicycle_scale_err": 1.0, "object/bicycle_orient_err": 1.0, "object/bicycle_vel_err": 1.0, "object/bicycle_attr_err": 1.0, "object/pedestrian_ap_dist_0.5": 0.0, "object/pedestrian_ap_dist_1.0": 0.0, "object/pedestrian_ap_dist_2.0": 0.0005, "object/pedestrian_ap_dist_4.0": 0.007, "object/pedestrian_trans_err": 0.756, "object/pedestrian_scale_err": 0.8128, "object/pedestrian_orient_err": 1.6601, "object/pedestrian_vel_err": 0.7372, "object/pedestrian_attr_err": 0.7981, "object/traffic_cone_ap_dist_0.5": 0.0, "object/traffic_cone_ap_dist_1.0": 0.0, "object/traffic_cone_ap_dist_2.0": 0.0, "object/traffic_cone_ap_dist_4.0": 0.0, "object/traffic_cone_trans_err": 1.0, "object/traffic_cone_scale_err": 1.0, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.03353, "object/map": 0.00631}


# 11.5 bevfusion+swin-T权重 + lidar+权重 / mini数据集 (使用GPU 1-7，避开GPU 0)
CUDA_VISIBLE_DEVICES=0,1,2,3,6,7 torchpack dist-run -np 6 python tools/train.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth --load_from pretrained/lidar-only-det.pth --run-dir train_result
{"mode": "val", "epoch": 6, "iter": 12, "lr": 1e-05, "object/car_ap_dist_0.5": 0.7102, "object/car_ap_dist_1.0": 0.8275, "object/car_ap_dist_2.0": 0.8687, "object/car_ap_dist_4.0": 0.884, "object/car_trans_err": 0.213, "object/car_scale_err": 0.1921, "object/car_orient_err": 0.2659, "object/car_vel_err": 0.4759, "object/car_attr_err": 0.2738, "object/mATE": 0.4747, "object/mASE": 0.4922, "object/mAOE": 0.7321, "object/mAVE": 0.9752, "object/mAAE": 0.4527, "object/truck_ap_dist_0.5": 0.5744, "object/truck_ap_dist_1.0": 0.5947, "object/truck_ap_dist_2.0": 0.5947, "object/truck_ap_dist_4.0": 0.6441, "object/truck_trans_err": 0.1694, "object/truck_scale_err": 0.1924, "object/truck_orient_err": 0.1492, "object/truck_vel_err": 0.487, "object/truck_attr_err": 0.2909, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.1806, "object/bus_ap_dist_1.0": 0.7259, "object/bus_ap_dist_2.0": 0.9706, "object/bus_ap_dist_4.0": 0.9706, "object/bus_trans_err": 0.4656, "object/bus_scale_err": 0.1223, "object/bus_orient_err": 0.4366, "object/bus_vel_err": 3.2333, "object/bus_attr_err": 0.2139, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.2077, "object/motorcycle_ap_dist_1.0": 0.2457, "object/motorcycle_ap_dist_2.0": 0.2532, "object/motorcycle_ap_dist_4.0": 0.2664, "object/motorcycle_trans_err": 0.2387, "object/motorcycle_scale_err": 0.3788, "object/motorcycle_orient_err": 1.0359, "object/motorcycle_vel_err": 0.0621, "object/motorcycle_attr_err": 0.0, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 0.2777, "object/bicycle_scale_err": 0.326, "object/bicycle_orient_err": 0.2645, "object/bicycle_vel_err": 0.7512, "object/bicycle_attr_err": 0.1309, "object/pedestrian_ap_dist_0.5": 0.5223, "object/pedestrian_ap_dist_1.0": 0.5595, "object/pedestrian_ap_dist_2.0": 0.5929, "object/pedestrian_ap_dist_4.0": 0.6459, "object/pedestrian_trans_err": 0.2764, "object/pedestrian_scale_err": 0.3083, "object/pedestrian_orient_err": 1.4365, "object/pedestrian_vel_err": 0.7922, "object/pedestrian_attr_err": 0.712, "object/traffic_cone_ap_dist_0.5": 0.1177, "object/traffic_cone_ap_dist_1.0": 0.1177, "object/traffic_cone_ap_dist_2.0": 0.1177, "object/traffic_cone_ap_dist_4.0": 0.1214, "object/traffic_cone_trans_err": 0.1065, "object/traffic_cone_scale_err": 0.4024, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.34124, "object/map": 0.30786}

# 11.5 cbdes moe + lidar+权重 / mini数据集
CUDA_VISIBLE_DEVICES=1,2,3,4,5,6,7 torchpack dist-run -np 7 python tools/train.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth --load_from pretrained/lidar-only-det.pth --run-dir train_result --data.samples_per_gpu 1

gpustat

# 11.9 bevfusion+swin-T权重 + lidar / 完整数据集

nohup env CUDA_VISIBLE_DEVICES=0,1,2,3,6,7 torchpack dist-run -np 6 python tools/train.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml \
  --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
  --load_from pretrained/lidar-only-det.pth \
  --run-dir train_result > train.log 2>&1 &

train_result/20251109_221532.log.json
{"mode": "val", "epoch": 6, "iter": 1004, "lr": 1e-05, "object/car_ap_dist_0.5": 0.6921, "object/car_ap_dist_1.0": 0.81, "object/car_ap_dist_2.0": 0.85, "object/car_ap_dist_4.0": 0.8753, "object/car_trans_err": 0.2003, "object/car_scale_err": 0.1616, "object/car_orient_err": 0.0725, "object/car_vel_err": 0.5682, "object/car_attr_err": 0.2222, "object/mATE": 0.3326, "object/mASE": 0.2722, "object/mAOE": 0.4492, "object/mAVE": 0.5999, "object/mAAE": 0.2479, "object/truck_ap_dist_0.5": 0.307, "object/truck_ap_dist_1.0": 0.4934, "object/truck_ap_dist_2.0": 0.6164, "object/truck_ap_dist_4.0": 0.6641, "object/truck_trans_err": 0.3858, "object/truck_scale_err": 0.2129, "object/truck_orient_err": 0.0679, "object/truck_vel_err": 0.6189, "object/truck_attr_err": 0.2699, "object/construction_vehicle_ap_dist_0.5": 0.0377, "object/construction_vehicle_ap_dist_1.0": 0.1843, "object/construction_vehicle_ap_dist_2.0": 0.391, "object/construction_vehicle_ap_dist_4.0": 0.4576, "object/construction_vehicle_trans_err": 0.7356, "object/construction_vehicle_scale_err": 0.4468, "object/construction_vehicle_orient_err": 0.8495, "object/construction_vehicle_vel_err": 0.1205, "object/construction_vehicle_attr_err": 0.3201, "object/bus_ap_dist_0.5": 0.2776, "object/bus_ap_dist_1.0": 0.5149, "object/bus_ap_dist_2.0": 0.6899, "object/bus_ap_dist_4.0": 0.7545, "object/bus_trans_err": 0.4133, "object/bus_scale_err": 0.2128, "object/bus_orient_err": 0.1141, "object/bus_vel_err": 1.2338, "object/bus_attr_err": 0.4963, "object/trailer_ap_dist_0.5": 0.0908, "object/trailer_ap_dist_1.0": 0.2822, "object/trailer_ap_dist_2.0": 0.4904, "object/trailer_ap_dist_4.0": 0.6329, "object/trailer_trans_err": 0.5924, "object/trailer_scale_err": 0.2302, "object/trailer_orient_err": 0.6557, "object/trailer_vel_err": 0.4159, "object/trailer_attr_err": 0.1116, "object/barrier_ap_dist_0.5": 0.6095, "object/barrier_ap_dist_1.0": 0.6995, "object/barrier_ap_dist_2.0": 0.7417, "object/barrier_ap_dist_4.0": 0.7553, "object/barrier_trans_err": 0.1881, "object/barrier_scale_err": 0.2826, "object/barrier_orient_err": 0.0695, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.4869, "object/motorcycle_ap_dist_1.0": 0.6093, "object/motorcycle_ap_dist_2.0": 0.6493, "object/motorcycle_ap_dist_4.0": 0.6782, "object/motorcycle_trans_err": 0.2353, "object/motorcycle_scale_err": 0.2775, "object/motorcycle_orient_err": 0.3547, "object/motorcycle_vel_err": 0.932, "object/motorcycle_attr_err": 0.1566, "object/bicycle_ap_dist_0.5": 0.4924, "object/bicycle_ap_dist_1.0": 0.5331, "object/bicycle_ap_dist_2.0": 0.5459, "object/bicycle_ap_dist_4.0": 0.57, "object/bicycle_trans_err": 0.1829, "object/bicycle_scale_err": 0.2721, "object/bicycle_orient_err": 0.8407, "object/bicycle_vel_err": 0.2612, "object/bicycle_attr_err": 0.0357, "object/pedestrian_ap_dist_0.5": 0.6296, "object/pedestrian_ap_dist_1.0": 0.6799, "object/pedestrian_ap_dist_2.0": 0.7018, "object/pedestrian_ap_dist_4.0": 0.7251, "object/pedestrian_trans_err": 0.2427, "object/pedestrian_scale_err": 0.3085, "object/pedestrian_orient_err": 1.018, "object/pedestrian_vel_err": 0.6489, "object/pedestrian_attr_err": 0.3703, "object/traffic_cone_ap_dist_0.5": 0.7129, "object/traffic_cone_ap_dist_1.0": 0.7248, "object/traffic_cone_ap_dist_2.0": 0.7488, "object/traffic_cone_ap_dist_4.0": 0.7809, "object/traffic_cone_trans_err": 0.15, "object/traffic_cone_scale_err": 0.3168, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.59966, "object/map": 0.57968}


# 11.10 cbdes moe + lidar+权重 / 完整数据集
nohup env CUDA_VISIBLE_DEVICES=0,1,2,3,6,7 torchpack dist-run -np 6 python tools/train_cbdes_moe.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml \
  --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
  --load_from pretrained/lidar-only-det.pth \
  --run-dir train_result > train.log 2>&1 &

CUDA_VISIBLE_DEVICES=0,1,2,3,6,7 torchpack dist-run -np 6 python tools/train_cbdes_moe.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml \
  --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
  --load_from pretrained/lidar-only-det.pth \
  --run-dir train_result



CUDA_VISIBLE_DEVICES=0,1,2,3,6,7 torchpack dist-run -np 6 python tools/train_cbdes_moe.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml \
  --modelencoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
  --resume-from /home/jiafeiyang/liuailin/bevfusion/train_result/epoch_2.pth \
  --run-dir train_result



// 查找正在运行的训练进程：
$ ps aux | grep -E "(train_cbdes_moe|train.py|torchpack)" | grep -v grep

// 先找到主进程（mpirun），然后终止整个进程组：
$ pkill -f "train_cbdes_moe.py"












# 11.16 bevfusion+swin-T权重 + lidar / mini数据集

nohup env CUDA_VISIBLE_DEVICES=0,1 torchpack dist-run -np 2 python tools/train.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml \
  --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
  --load_from pretrained/lidar-only-det.pth \
  --run-dir train_result > train_bevfusion.log 2>&1 &


CUDA_VISIBLE_DEVICES=0 torchpack dist-run -np 1 python tools/train.py \
configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml \
--model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
--load_from pretrained/lidar-only-det.pth \
--data.samples_per_gpu 1 \
--run-dir train_result

[1] 2443593



# 11.16 bevfusion + moe + lidar / mini数据集
CUDA_VISIBLE_DEVICES=6,7 torchpack dist-run -np 2 python tools/train_cbdes_moe.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml \
  --modelencoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth \
  --load_from pretrained/lidar-only-det.pth \
  --run-dir train_result > train_bevfusion_moe.log 2>&1 &
[1] 2496161



# 11.16 bevfusion + moe + lidar / mini数据集  - swin-T在imageNet上预训练权重
nohup env CUDA_VISIBLE_DEVICES=0 torchpack dist-run -np 1 python tools/train_cbdes_moe.py \
  configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml \
  --load_from pretrained/lidar-only-det.pth \
  --data.samples_per_gpu 1 \
  --run-dir train_result > train_bevfusion_moe.log 2>&1 &

{"mode": "val", "epoch": 6, "iter": 81, "lr": 1e-05, "object/car_ap_dist_0.5": 0.5924, "object/car_ap_dist_1.0": 0.7575, "object/car_ap_dist_2.0": 0.8263, "object/car_ap_dist_4.0": 0.8621, "object/car_trans_err": 0.2502, "object/car_scale_err": 0.184, "object/car_orient_err": 0.301, "object/car_vel_err": 0.6205, "object/car_attr_err": 0.2059, "object/mATE": 0.5496, "object/mASE": 0.5665, "object/mAOE": 0.828, "object/mAVE": 0.848, "object/mAAE": 0.5237, "object/truck_ap_dist_0.5": 0.4388, "object/truck_ap_dist_1.0": 0.4888, "object/truck_ap_dist_2.0": 0.5037, "object/truck_ap_dist_4.0": 0.5244, "object/truck_trans_err": 0.2238, "object/truck_scale_err": 0.1905, "object/truck_orient_err": 0.0672, "object/truck_vel_err": 0.7817, "object/truck_attr_err": 0.3274, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.4693, "object/bus_ap_dist_1.0": 0.8665, "object/bus_ap_dist_2.0": 0.9858, "object/bus_ap_dist_4.0": 0.9858, "object/bus_trans_err": 0.295, "object/bus_scale_err": 0.1066, "object/bus_orient_err": 0.0399, "object/bus_vel_err": 1.3171, "object/bus_attr_err": 0.1984, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.0782, "object/motorcycle_ap_dist_1.0": 0.1215, "object/motorcycle_ap_dist_2.0": 0.1387, "object/motorcycle_ap_dist_4.0": 0.1531, "object/motorcycle_trans_err": 0.3463, "object/motorcycle_scale_err": 0.432, "object/motorcycle_orient_err": 1.5288, "object/motorcycle_vel_err": 0.1046, "object/motorcycle_attr_err": 0.0417, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 1.0, "object/bicycle_scale_err": 1.0, "object/bicycle_orient_err": 1.0, "object/bicycle_vel_err": 1.0, "object/bicycle_attr_err": 1.0, "object/pedestrian_ap_dist_0.5": 0.5287, "object/pedestrian_ap_dist_1.0": 0.5672, "object/pedestrian_ap_dist_2.0": 0.5969, "object/pedestrian_ap_dist_4.0": 0.6463, "object/pedestrian_trans_err": 0.2621, "object/pedestrian_scale_err": 0.3052, "object/pedestrian_orient_err": 1.5146, "object/pedestrian_vel_err": 0.96, "object/pedestrian_attr_err": 0.416, "object/traffic_cone_ap_dist_0.5": 0.0303, "object/traffic_cone_ap_dist_1.0": 0.0303, "object/traffic_cone_ap_dist_2.0": 0.0303, "object/traffic_cone_ap_dist_4.0": 0.0303, "object/traffic_cone_trans_err": 0.1181, "object/traffic_cone_scale_err": 0.4466, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.3091, "object/map": 0.28134}


# 11.16 bevfusion + moe + lidar / mini数据集  - swin-T在nuscene上预训练权重
nohup env CUDA_VISIBLE_DEVICES=1 torchpack dist-run -np 1 python tools/train_cbdes_moe.py   configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml   --load_from pretrained/lidar-only-det.pth   --data.samples_per_gpu 1   --run-dir train_result > train_bevfusion_moe.log 2>&1 &
{"mode": "val", "epoch": 2, "iter": 81, "lr": 9e-05, "object/car_ap_dist_0.5": 0.5958, "object/car_ap_dist_1.0": 0.7442, "object/car_ap_dist_2.0": 0.8239, "object/car_ap_dist_4.0": 0.8497, "object/car_trans_err": 0.2472, "object/car_scale_err": 0.1971, "object/car_orient_err": 0.2923, "object/car_vel_err": 0.3529, "object/car_attr_err": 0.1404, "object/mATE": 0.5675, "object/mASE": 0.5702, "object/mAOE": 0.7865, "object/mAVE": 0.7553, "object/mAAE": 0.5079, "object/truck_ap_dist_0.5": 0.4975, "object/truck_ap_dist_1.0": 0.56, "object/truck_ap_dist_2.0": 0.5819, "object/truck_ap_dist_4.0": 0.598, "object/truck_trans_err": 0.2225, "object/truck_scale_err": 0.1768, "object/truck_orient_err": 0.0323, "object/truck_vel_err": 0.1027, "object/truck_attr_err": 0.0446, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.2337, "object/bus_ap_dist_1.0": 0.8393, "object/bus_ap_dist_2.0": 0.9824, "object/bus_ap_dist_4.0": 0.9824, "object/bus_trans_err": 0.4092, "object/bus_scale_err": 0.1548, "object/bus_orient_err": 0.1171, "object/bus_vel_err": 1.5641, "object/bus_attr_err": 0.2734, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.2154, "object/motorcycle_ap_dist_1.0": 0.3105, "object/motorcycle_ap_dist_2.0": 0.3337, "object/motorcycle_ap_dist_4.0": 0.3476, "object/motorcycle_trans_err": 0.32, "object/motorcycle_scale_err": 0.426, "object/motorcycle_orient_err": 1.3268, "object/motorcycle_vel_err": 0.1616, "object/motorcycle_attr_err": 0.069, "object/bicycle_ap_dist_0.5": 0.0, "object/bicycle_ap_dist_1.0": 0.0, "object/bicycle_ap_dist_2.0": 0.0, "object/bicycle_ap_dist_4.0": 0.0, "object/bicycle_trans_err": 1.0, "object/bicycle_scale_err": 1.0, "object/bicycle_orient_err": 1.0, "object/bicycle_vel_err": 1.0, "object/bicycle_attr_err": 1.0, "object/pedestrian_ap_dist_0.5": 0.5236, "object/pedestrian_ap_dist_1.0": 0.5768, "object/pedestrian_ap_dist_2.0": 0.6058, "object/pedestrian_ap_dist_4.0": 0.6484, "object/pedestrian_trans_err": 0.2772, "object/pedestrian_scale_err": 0.3242, "object/pedestrian_orient_err": 1.3098, "object/pedestrian_vel_err": 0.8614, "object/pedestrian_attr_err": 0.5357, "object/traffic_cone_ap_dist_0.5": 0.024, "object/traffic_cone_ap_dist_1.0": 0.024, "object/traffic_cone_ap_dist_2.0": 0.024, "object/traffic_cone_ap_dist_4.0": 0.024, "object/traffic_cone_trans_err": 0.1988, "object/traffic_cone_scale_err": 0.4235, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.33059, "object/map": 0.29867}
train_result/20251116_211721.log.json


# 11.17 bevfusion + moe + lidar / mini数据集  - swin-T在nuscene上预训练权重
nohup env CUDA_VISIBLE_DEVICES=0,1 torchpack dist-run -np 2 python tools/train.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth --load_from pretrained/lidar-only-det.pth --run-dir train_result > train_bevfusion.log 2>&1 &
{"mode": "val", "epoch": 4, "iter": 81, "lr": 5e-05, "object/car_ap_dist_0.5": 0.6955, "object/car_ap_dist_1.0": 0.8523, "object/car_ap_dist_2.0": 0.9071, "object/car_ap_dist_4.0": 0.9223, "object/car_trans_err": 0.2246, "object/car_scale_err": 0.1742, "object/car_orient_err": 0.1723, "object/car_vel_err": 0.1615, "object/car_attr_err": 0.0804, "object/mATE": 0.4432, "object/mASE": 0.4694, "object/mAOE": 0.5268, "object/mAVE": 0.5168, "object/mAAE": 0.2893, "object/truck_ap_dist_0.5": 0.3715, "object/truck_ap_dist_1.0": 0.4743, "object/truck_ap_dist_2.0": 0.483, "object/truck_ap_dist_4.0": 0.4839, "object/truck_trans_err": 0.2613, "object/truck_scale_err": 0.1819, "object/truck_orient_err": 0.1192, "object/truck_vel_err": 0.159, "object/truck_attr_err": 0.0004, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.9487, "object/bus_ap_dist_1.0": 0.9905, "object/bus_ap_dist_2.0": 0.9905, "object/bus_ap_dist_4.0": 0.9905, "object/bus_trans_err": 0.2084, "object/bus_scale_err": 0.0943, "object/bus_orient_err": 0.0297, "object/bus_vel_err": 0.9349, "object/bus_attr_err": 0.1424, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.3341, "object/motorcycle_ap_dist_1.0": 0.4466, "object/motorcycle_ap_dist_2.0": 0.4636, "object/motorcycle_ap_dist_4.0": 0.4685, "object/motorcycle_trans_err": 0.2609, "object/motorcycle_scale_err": 0.3196, "object/motorcycle_orient_err": 0.9678, "object/motorcycle_vel_err": 0.0639, "object/motorcycle_attr_err": 0.0, "object/bicycle_ap_dist_0.5": 0.1547, "object/bicycle_ap_dist_1.0": 0.1559, "object/bicycle_ap_dist_2.0": 0.1559, "object/bicycle_ap_dist_4.0": 0.1559, "object/bicycle_trans_err": 0.1929, "object/bicycle_scale_err": 0.2237, "object/bicycle_orient_err": 0.1306, "object/bicycle_vel_err": 0.5201, "object/bicycle_attr_err": 0.0, "object/pedestrian_ap_dist_0.5": 0.8324, "object/pedestrian_ap_dist_1.0": 0.8582, "object/pedestrian_ap_dist_2.0": 0.8744, "object/pedestrian_ap_dist_4.0": 0.9101, "object/pedestrian_trans_err": 0.1514, "object/pedestrian_scale_err": 0.2768, "object/pedestrian_orient_err": 0.3217, "object/pedestrian_vel_err": 0.2946, "object/pedestrian_attr_err": 0.091, "object/traffic_cone_ap_dist_0.5": 0.1467, "object/traffic_cone_ap_dist_1.0": 0.1521, "object/traffic_cone_ap_dist_2.0": 0.1527, "object/traffic_cone_ap_dist_4.0": 0.1527, "object/traffic_cone_trans_err": 0.1327, "object/traffic_cone_scale_err": 0.4237, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.46951, "object/map": 0.38811}
train_result/20251117_002924.log.json

# 11.17 bevfusion + lidar / mini数据集  - swin-T在nuscene上预训练权重
nohup env CUDA_VISIBLE_DEVICES=0,1 torchpack dist-run -np 2 python tools/train.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/swint_v0p075/convfuser.yaml --model.encoders.camera.backbone.init_cfg.checkpoint pretrained/swint-nuimages-pretrained.pth --load_from pretrained/lidar-only-det.pth --run-dir train_result > train_bevfusion.log 2>&1 &
{"mode": "val", "epoch": 4, "iter": 41, "lr": 0.0001, "object/car_ap_dist_0.5": 0.7823, "object/car_ap_dist_1.0": 0.9044, "object/car_ap_dist_2.0": 0.9284, "object/car_ap_dist_4.0": 0.9459, "object/car_trans_err": 0.1916, "object/car_scale_err": 0.1635, "object/car_orient_err": 0.1722, "object/car_vel_err": 0.1327, "object/car_attr_err": 0.0807, "object/mATE": 0.4183, "object/mASE": 0.4699, "object/mAOE": 0.5091, "object/mAVE": 0.4213, "object/mAAE": 0.3284, "object/truck_ap_dist_0.5": 0.6565, "object/truck_ap_dist_1.0": 0.695, "object/truck_ap_dist_2.0": 0.7061, "object/truck_ap_dist_4.0": 0.7169, "object/truck_trans_err": 0.1719, "object/truck_scale_err": 0.1435, "object/truck_orient_err": 0.0303, "object/truck_vel_err": 0.0853, "object/truck_attr_err": 0.0, "object/construction_vehicle_ap_dist_0.5": 0.0, "object/construction_vehicle_ap_dist_1.0": 0.0, "object/construction_vehicle_ap_dist_2.0": 0.0, "object/construction_vehicle_ap_dist_4.0": 0.0, "object/construction_vehicle_trans_err": 1.0, "object/construction_vehicle_scale_err": 1.0, "object/construction_vehicle_orient_err": 1.0, "object/construction_vehicle_vel_err": 1.0, "object/construction_vehicle_attr_err": 1.0, "object/bus_ap_dist_0.5": 0.9381, "object/bus_ap_dist_1.0": 0.9752, "object/bus_ap_dist_2.0": 0.9752, "object/bus_ap_dist_4.0": 0.9752, "object/bus_trans_err": 0.1903, "object/bus_scale_err": 0.0908, "object/bus_orient_err": 0.0196, "object/bus_vel_err": 0.5333, "object/bus_attr_err": 0.451, "object/trailer_ap_dist_0.5": 0.0, "object/trailer_ap_dist_1.0": 0.0, "object/trailer_ap_dist_2.0": 0.0, "object/trailer_ap_dist_4.0": 0.0, "object/trailer_trans_err": 1.0, "object/trailer_scale_err": 1.0, "object/trailer_orient_err": 1.0, "object/trailer_vel_err": 1.0, "object/trailer_attr_err": 1.0, "object/barrier_ap_dist_0.5": 0.0, "object/barrier_ap_dist_1.0": 0.0, "object/barrier_ap_dist_2.0": 0.0, "object/barrier_ap_dist_4.0": 0.0, "object/barrier_trans_err": 1.0, "object/barrier_scale_err": 1.0, "object/barrier_orient_err": 1.0, "object/barrier_vel_err": NaN, "object/barrier_attr_err": NaN, "object/motorcycle_ap_dist_0.5": 0.5069, "object/motorcycle_ap_dist_1.0": 0.5751, "object/motorcycle_ap_dist_2.0": 0.5917, "object/motorcycle_ap_dist_4.0": 0.6057, "object/motorcycle_trans_err": 0.1957, "object/motorcycle_scale_err": 0.3428, "object/motorcycle_orient_err": 0.715, "object/motorcycle_vel_err": 0.0511, "object/motorcycle_attr_err": 0.0007, "object/bicycle_ap_dist_0.5": 0.2697, "object/bicycle_ap_dist_1.0": 0.2972, "object/bicycle_ap_dist_2.0": 0.2972, "object/bicycle_ap_dist_4.0": 0.2975, "object/bicycle_trans_err": 0.186, "object/bicycle_scale_err": 0.3074, "object/bicycle_orient_err": 0.3822, "object/bicycle_vel_err": 0.324, "object/bicycle_attr_err": 0.0, "object/pedestrian_ap_dist_0.5": 0.8881, "object/pedestrian_ap_dist_1.0": 0.898, "object/pedestrian_ap_dist_2.0": 0.9082, "object/pedestrian_ap_dist_4.0": 0.9385, "object/pedestrian_trans_err": 0.1288, "object/pedestrian_scale_err": 0.2652, "object/pedestrian_orient_err": 0.2623, "object/pedestrian_vel_err": 0.2439, "object/pedestrian_attr_err": 0.0946, "object/traffic_cone_ap_dist_0.5": 0.56, "object/traffic_cone_ap_dist_1.0": 0.56, "object/traffic_cone_ap_dist_2.0": 0.56, "object/traffic_cone_ap_dist_4.0": 0.5607, "object/traffic_cone_trans_err": 0.1185, "object/traffic_cone_scale_err": 0.3854, "object/traffic_cone_orient_err": NaN, "object/traffic_cone_vel_err": NaN, "object/traffic_cone_attr_err": NaN, "object/nds": 0.52923, "object/map": 0.48784}
train_result/20251117_023452.log.json

# 11.17 bevfusion + moe + lidar / mini数据集  - swin-T在nuscene上预训练权重 修改路由损失权重为0.01
nohup env CUDA_VISIBLE_DEVICES=0,1 torchpack dist-run -np 2 python tools/train_cbdes_moe.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml --load_from pretrained/lidar-only-det.pth --data.samples_per_gpu 1 --run-dir train_result > train_bevfusion_moe.log 2>&1 &

nohup env CUDA_VISIBLE_DEVICES=0,1,3 torchpack dist-run -np 3 python tools/train_cbdes_moe.py configs/nuscenes/det/transfusion/secfpn/camera+lidar/moe_lal/convfuser.yaml --load_from pretrained/lidar-only-det.pth --data.samples_per_gpu 1 --run-dir train_result > train_bevfusion_moe.log 2>&1 &













